(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{489:function(t,e,a){"use strict";a.r(e);var l=a(45),n=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"f5-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#f5-configuration"}},[t._v("#")]),t._v(" F5 configuration")]),t._v(" "),a("p",[t._v("The playbooks do not attempt to deploy F5 BIG-IP, as each installtion will be unique to the customer's environment.")]),t._v(" "),a("p",[t._v("If you are deploying Anthos in a proof-of-concept or demo environment, the following steps can be used to\nperform a minimal F5 BIG-IP install.")]),t._v(" "),a("h2",{attrs:{id:"deploying-f5-big-ip-virtual-edition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploying-f5-big-ip-virtual-edition"}},[t._v("#")]),t._v(" Deploying F5 Big-IP Virtual Edition")]),t._v(" "),a("ul",[a("li",[t._v("Download the Open Virtual Appliance (OVA) file for  F5 Big-IP Virtual Edition from the F5 website")]),t._v(" "),a("li",[t._v("Obtain a commercial or temporary licence")]),t._v(" "),a("li",[t._v("Deploy the OVF Template with 8 CPU, 16 GB")]),t._v(" "),a("li",[t._v("Configure the networking:\n"),a("ul",[a("li",[t._v("Internal VLAN corresponding to network configured with  "),a("code",[t._v("f5.internal_vlan_name: internal")]),t._v(", "),a("code",[t._v("internal_vlan_selfip_name: gke-internal")]),t._v(" below")]),t._v(" "),a("li",[t._v("External VLAN corresponding to  network configured with "),a("code",[t._v("f5.external_vlan_name: external")]),t._v(", "),a("code",[t._v("f5.external_vlan_selfip_name: gke-external")]),t._v(" below")]),t._v(" "),a("li",[t._v("HA VLAN (same  as Internal VLAN above)")]),t._v(" "),a("li",[t._v("Management VLAN")])])]),t._v(" "),a("li",[t._v("Once the virtual appliance is deployed and powered up, log in to the VM (using the combination "),a("code",[t._v("root")]),t._v(" / "),a("code",[t._v("default")]),t._v(" ).")]),t._v(" "),a("li",[t._v("If you want to manually set the IP address on the Management VLAN, run the "),a("code",[t._v("config")]),t._v(" utility and set the IP Address, Netmask and Default Route. Alternatively, if you are using DHCP, determine the assigned IP address in the vSphere client.")]),t._v(" "),a("li",[t._v("The web UI should be available from your browser using the IP address (log in using the combination "),a("code",[t._v("admin")]),t._v(" / "),a("code",[t._v("admin")]),t._v(").")])]),t._v(" "),a("h2",{attrs:{id:"general-f5-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-f5-configuration"}},[t._v("#")]),t._v(" General F5 configuration")]),t._v(" "),a("p",[t._v("General configuration variables for F5 are shown in the following table:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Variable")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("File")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.user")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The username to connect to the BIG-IP with. This user must have administrative privileges on the device. For example, "),a("code",[t._v("admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.password")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The password for the user account used to connect to the BIG-IP. You should store this value in the vault and reference it here.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.server")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The BIG-IP host. For example, "),a("code",[t._v("10.1.222.170")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.validate_certs")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("yes")]),t._v(" or "),a("code",[t._v("no")]),t._v(". If "),a("code",[t._v("no")]),t._v(", SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.server_port")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The BIG-IP server port. Default is "),a("code",[t._v("443")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.hostname")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Hostname of the BIG-IP host. For example,")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.admin_username")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Name of the user to create or modify.For example, "),a("code",[t._v("admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.admin_password")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The password to set for the "),a("code",[t._v("f5.admin_username")]),t._v(" user. "),a("br"),a("strong",[t._v("Do not change")]),t._v(". Sets the value to the vault variable "),a("code",[t._v("vault_f5_admin_password")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.license.key")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The registration key to use to license the BIG-IP. "),a("br"),a("strong",[t._v("Do not change")]),t._v(". Sets the value of the vault variable "),a("code",[t._v("vault_f5_license_key")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.license.state")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The state of the license on the system. "),a("br"),a("strong",[t._v("Do not change")]),t._v(" Set the value to "),a("code",[t._v("present")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.save")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("Do not change")]),t._v(". Must be set to "),a("code",[t._v("true")]),t._v(".")])])])]),t._v(" "),a("h2",{attrs:{id:"f5-networking-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#f5-networking-config"}},[t._v("#")]),t._v(" F5 networking config")]),t._v(" "),a("p",[t._v("The variables related to network configuration for F5 are shown in the follwoing table:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Variable")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("File")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_name")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The name of the internal VLAN to manage. For example, "),a("code",[t._v("internal")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_tag")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Tag number for the internal VLAN. The tag number can be any integer between 1 and 4094. The system automatically assigns a tag number if you do not specify a value. For example, "),a("code",[t._v("1700")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_selfip")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The IP address for the new self IP. For example, "),a("code",[t._v("172.17.0.16")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_selfip_netmask")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The netmask for the self IP. Required. For example, "),a("code",[t._v("255.255.224.0")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_selfip_name")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The name of the self IP to create. If this parameter is not specified, then it will default to the value supplied in the "),a("code",[t._v("f5.internal_vlan_selfip")]),t._v(" parameter. For example, "),a("code",[t._v("gke-internal")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.external_vlan_name")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The name of the external VLAN to manage. For example, "),a("code",[t._v("external")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.external_vlan_tag")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Tag number for the external VLAN. The tag number can be any integer between 1 and 4094. The system automatically assigns a tag number if you do not specify a value. For example, "),a("code",[t._v("1732")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.external_vlan_selfip")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The IP address for the new self IP. For example, "),a("code",[t._v("172.17.32.16")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.external_vlan_selfip_netmask")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The netmask for the self IP. Required. For example, "),a("code",[t._v("255.255.224.0")]),t._v(".")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.external_vlan_selfip_name")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("inventory/group_vars/all/all.yml")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The name of the self IP to create. If this parameter is not specified, then it will default to the value supplied in the "),a("code",[t._v("f5.external_vlan_selfip")]),t._v(" parameter. For example, "),a("code",[t._v("gke-external")]),t._v(".")])])])]),t._v(" "),a("h2",{attrs:{id:"f5-partitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#f5-partitions"}},[t._v("#")]),t._v(" F5 partitions")]),t._v(" "),a("p",[t._v("Partitions are created to control other users’ access to BIG-IP objects. More specifically, when a specific set of objects resides in a partition, you can give certain users the authority to view and manage the objects in that partition only, rather than to all objects on the BIG-IP system. This gives a finer granularity of administrative control.")]),t._v(" "),a("p",[t._v("The playbooks for configuring F5 create partitions  for the admin and user clusters. See the documentation\nfor the "),a("code",[t._v("f5_partition")]),t._v(" and "),a("code",[t._v("state")]),t._v(" cluster config variables in the section "),a("a",{attrs:{href:"admin-user-clusters-config"}},[t._v("Configuring admin and user clusters")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"sample-f5-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sample-f5-configuration"}},[t._v("#")]),t._v(" Sample F5 configuration")]),t._v(" "),a("p",[t._v("A summary of the IP addresses used in the documentation samples is shown in the following table:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Role")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Variable")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Network")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Sample IP")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("F5 server")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.provider.server")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Management")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("10.15.159.244")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("F5 internal selfip")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_selfip")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Internal")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("10.15.155.222")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("F5 external selfip")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("f5.internal_vlan_selfip")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("External")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("10.15.158.60")])])])]),t._v(" "),a("p",[t._v("A sample configuration for F5 is shown below:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('f5:\n  provider:\n    user: admin\n    password: "{{ vault_f5_admin_password }}"\n    server: 10.15.159.244\n    validate_certs: no\n    server_port: 443\n\n  hostname: gmcg-bigip-gen10.gmcgorg.local\n  admin_username: admin\n  admin_password: "{{ vault_f5_admin_password }}"\n\n  # Set to true to ensure config is saved to f5. DO NOT CHANGE\n  save: true\n\n  internal_vlan_name: internal\n  internal_vlan_tag: 2967\n  internal_vlan_selfip: 10.15.155.222\n  internal_vlan_selfip_netmask: 255.255.255.0\n\n  external_vlan_name: external\n  external_vlan_tag: 2970\n  external_vlan_selfip: 10.15.158.60\n  external_vlan_selfip_netmask: 255.255.255.0\n  external_vlan_selfip_name: gke-external\n\n  license:\n    - { key: "{{ vault_f5_license_key }}", state: present }\n')])])]),a("h2",{attrs:{id:"more-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more-information"}},[t._v("#")]),t._v(" More information")]),t._v(" "),a("p",[t._v("More information on the "),a("code",[t._v("provider")]),t._v(" structure can be found in the documentation for the Ansible module for\n"),a("a",{attrs:{href:"https://docs.ansible.com/ansible/latest/modules/bigip_device_info_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Big-IP device information"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("See also:"),a("br"),t._v(" "),a("a",{attrs:{href:"https://docs.ansible.com/ansible/latest/modules/bigip_vlan_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Manage VLANs on a BIG-IP system"),a("OutboundLink")],1),t._v(" "),a("br"),t._v(" "),a("a",{attrs:{href:"https://docs.ansible.com/ansible/latest/modules/bigip_selfip_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Manage Self-IPs on a BIG-IP system"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);