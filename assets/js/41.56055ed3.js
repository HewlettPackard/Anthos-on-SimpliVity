(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{467:function(t,e,a){"use strict";a.r(e);var l=a(45),s=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"running-the-playbooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-the-playbooks"}},[t._v("#")]),t._v(" Running the playbooks")]),t._v(" "),a("h2",{attrs:{id:"activate-python-virtualenv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#activate-python-virtualenv"}},[t._v("#")]),t._v(" Activate Python "),a("code",[t._v("virtualenv")])]),t._v(" "),a("p",[t._v("Before you run any playbooks, activate your Python "),a("code",[t._v("virtualenv")]),t._v(" created earlier by "),a("code",[t._v("ansible-setup.sh")]),t._v(", for example:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("source /root/virtualenvs/ansible-296/bin/activate\n")])])]),a("h2",{attrs:{id:"pre-deployment-validation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-deployment-validation"}},[t._v("#")]),t._v(" Pre-deployment validation")]),t._v(" "),a("p",[t._v("Before starting the deployment, it can be useful to validate configuration parameters using the playbook\n"),a("code",[t._v("playbooks/preflight.yml")]),t._v(". For more details, see the section "),a("a",{attrs:{href:"playbooks-preflight"}},[t._v("Pre-deployment validation")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command"}},[t._v("#")]),t._v(" Command")]),t._v(" "),a("p",[t._v("Change to the directory where you downloaded the playbooks, as outlined in "),a("a",{attrs:{href:"../preparing/ansible-controller"}},[t._v("Preparing the Ansible controller")]),t._v(".  The playbook "),a("code",[t._v("site.yml")]),t._v(" deploys the entire solution in one go:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cd ~/Anthos-on-SimpliVity\n\nansible-playbook site.yml --ask-vault-pass\n")])])]),a("h2",{attrs:{id:"enabling-disabling-specific-features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-disabling-specific-features"}},[t._v("#")]),t._v(" Enabling/disabling specific features")]),t._v(" "),a("p",[t._v("If you have certain features configured in your "),a("code",[t._v("all.yml")]),t._v(" file, you can override the settings when running the playbooks. See the section "),a("a",{attrs:{href:"../playbooks/enables-config"}},[t._v("Enabling/disabling specific features")])]),t._v(" "),a("h2",{attrs:{id:"incremental-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#incremental-deployment"}},[t._v("#")]),t._v(" Incremental deployment")]),t._v(" "),a("p",[t._v("As an alternative to running the "),a("code",[t._v("site.yml")]),t._v(" wrapper, it is possible to run the playbooks individually.\nIt is important to run the playbooks in the correct sequence, to ensure all dependencies are fulfilled.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Playbook")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Overview")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/preflight.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-preflight"}},[t._v("Pre-deployment validation (optional)")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/gcp_key_create.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-gcp-key-create"}},[t._v("Generate GCP keys (optional)")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/get_prereq.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-prereqs"}},[t._v("Get prerequisites")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/bigip_anthos.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-f5"}},[t._v("Deploy F5")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/deploy_admin_wrkst.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-admin-workstation"}},[t._v("Deploy the admin workstation")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/create_cluster.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-admin-user-clusters"}},[t._v("Deploy admin and user clusters")])])])])]),t._v(" "),a("p",[t._v("Once you have successfully deployed the admin and user clusters, you can deploy additional functionality\nincluding CSI driver and Anthos Service Mesh.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Playbook")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Overview")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/csi.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks/csi-vsphere"}},[t._v("Deploy and configure CSI driver")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("playbooks/service_mesh.yml")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"playbooks-service-mesh"}},[t._v("Deploy and configure Anthos Service Mesh")])])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);