(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{485:function(e,t,a){"use strict";a.r(t);var s=a(45),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"csi-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csi-configuration"}},[e._v("#")]),e._v(" CSI configuration")]),e._v(" "),a("h2",{attrs:{id:"user-cluster-storage-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-cluster-storage-configuration"}},[e._v("#")]),e._v(" User cluster storage configuration")]),e._v(" "),a("p",[e._v("Configuration for CSI storage is specified on a cluster-by-cluster basis, in the "),a("code",[e._v("all.yml")]),e._v(" configuration file,\nusing fields in the cluster definition structure  "),a("code",[e._v("gke_cluster_config")]),e._v("\nstructure. For each user cluster, you can specify a storage class and configure a datastore:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[e._v("Field")]),e._v(" "),a("th",{staticStyle:{"text-align":"left"}},[e._v("Description")]),e._v(" "),a("th",{staticStyle:{"text-align":"left"}},[e._v("Value")])])]),e._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[e._v("csi_storageclass_name")])]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("The name of the storage class to use for the user cluster")]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("For example, "),a("code",[e._v("'gmcg-vmware-sc'")])])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[e._v("csi_datastore_name")])]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("The datastore name to be created, if it does not already exist")]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("For example, "),a("code",[e._v("'gmcg-gke-vmwarecsi'")])])]),e._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[e._v("csi_datastore_size")])]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("The size in gigabytes for the datastore")]),e._v(" "),a("td",{staticStyle:{"text-align":"left"}},[e._v("For example, "),a("code",[e._v("'20'")])])])])]),e._v(" "),a("p",[e._v("An example for CSI configuration in a user cluster is shown below:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("gke_cluster_config:\n    - name: 'user-cluster-1'\n      type: 'user'\n      ...\n      csi_storageclass_name: 'gmcg-vmware-sc'\n      csi_datastore_name: 'gmcg-gke-vmwarecsi'\n      csi_datastore_size: '20'\n")])])]),a("h2",{attrs:{id:"default-values"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default-values"}},[e._v("#")]),e._v(" Default values")]),e._v(" "),a("p",[e._v("The default values for CSI configuration are specified in the file "),a("code",[e._v("playbooks/roles/gke_cluster_config/csi/defaults/main.yml")]),e._v(". The following are the values used, at the time of writing:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("csi_driver: vsphere\nvsphere_csi_driver_image: gcr.io/cloud-provider-vsphere/csi/release/driver:v2.0.0\nvsphere_csi_syncer_image: gcr.io/cloud-provider-vsphere/csi/release/syncer:v2.0.0\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);